<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.55">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>NBA’s Analytics Revolution - From Traditional to Modern Basketball (1980-2025) – Portfolio</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./eda.html" rel="next">
<link href="./data_source.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.10.4/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<script src="site_libs/jquery-3.5.1/jquery.min.js"></script>
<link href="site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Portfolio</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">About Me</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./data_viz.html">Data Visualization</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data_source.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Sources</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data_viz.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Data Visualization</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./eda.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exploratory Data Analysis</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./uniTS_model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Univariate TS Models (ARIMA/SARIMA)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./multiTS_model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multivariate TS Models (ARIMAX/SARIMAX/VAR)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./financialTS_model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Financial TS Models (ARCH/GARCH)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./DLTS.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Deep Learning for TS</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./other.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Other (Interrupted TS/ARFIMA/Spectral Analysis)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./conclusion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Conclusions</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#the-analytics-revolution-rise-of-the-three-pointer-1980-2025" id="toc-the-analytics-revolution-rise-of-the-three-pointer-1980-2025" class="nav-link active" data-scroll-target="#the-analytics-revolution-rise-of-the-three-pointer-1980-2025">1. The Analytics Revolution: Rise of the Three-Pointer (1980-2025)</a></li>
  <li><a href="#efficiency-evolution-four-decades-of-offensive-rating-pace-and-shooting" id="toc-efficiency-evolution-four-decades-of-offensive-rating-pace-and-shooting" class="nav-link" data-scroll-target="#efficiency-evolution-four-decades-of-offensive-rating-pace-and-shooting">2. Efficiency Evolution: Four Decades of Offensive Rating, Pace, and Shooting</a></li>
  <li><a href="#death-of-the-midrange-shot-zone-trends-2004-2025" id="toc-death-of-the-midrange-shot-zone-trends-2004-2025" class="nav-link" data-scroll-target="#death-of-the-midrange-shot-zone-trends-2004-2025">3. Death of the Midrange: Shot Zone Trends (2004-2025)</a></li>
  <li><a href="#court-shot-charts-evolution-of-shot-selection-2004-2024-w.-focus-on-boston-celtics" id="toc-court-shot-charts-evolution-of-shot-selection-2004-2024-w.-focus-on-boston-celtics" class="nav-link" data-scroll-target="#court-shot-charts-evolution-of-shot-selection-2004-2024-w.-focus-on-boston-celtics">4. Court Shot Charts: Evolution of Shot Selection (2004-2024) w. Focus on Boston Celtics</a></li>
  <li><a href="#the-covid-19-disruption-attendance-collapse-and-sports-betting-volatility" id="toc-the-covid-19-disruption-attendance-collapse-and-sports-betting-volatility" class="nav-link" data-scroll-target="#the-covid-19-disruption-attendance-collapse-and-sports-betting-volatility">5. The COVID-19 Disruption: Attendance Collapse and Sports Betting Volatility</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">NBA’s Analytics Revolution - From Traditional to Modern Basketball (1980-2025)</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>This analysis tells the story of the most dramatic strategic transformation in NBA history, particularly the shift from mid-range-heavy “iso-ball” to the analytics-optimized “Moreyball” offense that dominates today. Through the visualizations below, we can see how data-driven decision making fundamentally reshaped basketball strategy over 45 years.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(magick)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(viridis)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(cowplot)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_set</span>(<span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">12</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="the-analytics-revolution-rise-of-the-three-pointer-1980-2025" class="level2">
<h2 class="anchored" data-anchor-id="the-analytics-revolution-rise-of-the-three-pointer-1980-2025">1. The Analytics Revolution: Rise of the Three-Pointer (1980-2025)</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>all_adv_files <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="st">"data/adv_stats"</span>, <span class="at">pattern =</span> <span class="st">"*.csv"</span>, <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>all_adv_data <span class="ot">&lt;-</span> <span class="fu">map_df</span>(all_adv_files, <span class="cf">function</span>(file) {</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    season_str <span class="ot">&lt;-</span> <span class="fu">str_extract</span>(<span class="fu">basename</span>(file), <span class="st">"</span><span class="sc">\\</span><span class="st">d{4}-</span><span class="sc">\\</span><span class="st">d{2}"</span>)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    season_year <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">str_sub</span>(season_str, <span class="dv">1</span>, <span class="dv">4</span>)) <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(file, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    df<span class="sc">$</span>Season <span class="ot">&lt;-</span> season_year</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(df)</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>league_avg <span class="ot">&lt;-</span> all_adv_data <span class="sc">%&gt;%</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(Season) <span class="sc">%&gt;%</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">ORtg =</span> <span class="fu">mean</span>(<span class="st">`</span><span class="at">Unnamed: 10_level_0_ORtg</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">DRtg =</span> <span class="fu">mean</span>(<span class="st">`</span><span class="at">Unnamed: 11_level_0_DRtg</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">Pace =</span> <span class="fu">mean</span>(<span class="st">`</span><span class="at">Unnamed: 13_level_0_Pace</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>        <span class="st">`</span><span class="at">3PAr</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">mean</span>(<span class="st">`</span><span class="at">Unnamed: 15_level_0_3PAr</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>        <span class="st">`</span><span class="at">TS%</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">mean</span>(<span class="st">`</span><span class="at">Unnamed: 16_level_0_TS%</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>        <span class="st">`</span><span class="at">eFG%</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">mean</span>(<span class="st">`</span><span class="at">Offense Four Factors_eFG%</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>league_avg <span class="ot">&lt;-</span> league_avg <span class="sc">%&gt;%</span></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">Era =</span> <span class="fu">case_when</span>(</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>            Season <span class="sc">&lt;</span> <span class="dv">2012</span> <span class="sc">~</span> <span class="st">"Pre-Analytics Era"</span>,</span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>            Season <span class="sc">&gt;=</span> <span class="dv">2012</span> <span class="sc">&amp;</span> Season <span class="sc">&lt;</span> <span class="dv">2020</span> <span class="sc">~</span> <span class="st">"Analytics Era"</span>,</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>            Season <span class="sc">&gt;=</span> <span class="dv">2020</span> <span class="sc">~</span> <span class="st">"Post-COVID Era"</span></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>fig_3par <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(league_avg,</span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="sc">~</span>Season, <span class="at">y =</span> <span class="sc">~</span><span class="st">`</span><span class="at">3PAr</span><span class="st">`</span>,</span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="sc">~</span>Era,</span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">colors =</span> <span class="fu">c</span>(</span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Pre-Analytics Era"</span> <span class="ot">=</span> <span class="st">"#006bb6"</span>,</span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Analytics Era"</span> <span class="ot">=</span> <span class="st">"#f58426"</span>,</span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Post-COVID Era"</span> <span class="ot">=</span> <span class="st">"#bec0c2"</span></span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">"scatter"</span>, <span class="at">mode =</span> <span class="st">"lines+markers"</span>,</span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">6</span>),</span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">line =</span> <span class="fu">list</span>(<span class="at">width =</span> <span class="dv">3</span>),</span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">hovertemplate =</span> <span class="fu">paste</span>(</span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a>        <span class="st">"&lt;b&gt;Season:&lt;/b&gt; %{x}&lt;br&gt;"</span>,</span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a>        <span class="st">"&lt;b&gt;3PAr:&lt;/b&gt; %{y:.0%}&lt;br&gt;"</span>,</span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a>        <span class="st">"&lt;extra&gt;&lt;/extra&gt;"</span></span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(</span>
<span id="cb2-54"><a href="#cb2-54" aria-hidden="true" tabindex="-1"></a>        <span class="at">title =</span> <span class="fu">list</span>(</span>
<span id="cb2-55"><a href="#cb2-55" aria-hidden="true" tabindex="-1"></a>            <span class="at">text =</span> <span class="st">"The Analytics Revolution: 3-Point Attempt Rate (1980-2025)"</span>,</span>
<span id="cb2-56"><a href="#cb2-56" aria-hidden="true" tabindex="-1"></a>            <span class="at">font =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">15</span>, <span class="at">weight =</span> <span class="st">"bold"</span>)</span>
<span id="cb2-57"><a href="#cb2-57" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb2-58"><a href="#cb2-58" aria-hidden="true" tabindex="-1"></a>        <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Season"</span>),</span>
<span id="cb2-59"><a href="#cb2-59" aria-hidden="true" tabindex="-1"></a>        <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"3-Point Attempt Rate (3PA / FGA)"</span>, <span class="at">tickformat =</span> <span class="st">".0%"</span>),</span>
<span id="cb2-60"><a href="#cb2-60" aria-hidden="true" tabindex="-1"></a>        <span class="at">hovermode =</span> <span class="st">"closest"</span>,</span>
<span id="cb2-61"><a href="#cb2-61" aria-hidden="true" tabindex="-1"></a>        <span class="at">template =</span> <span class="st">"plotly_white"</span>,</span>
<span id="cb2-62"><a href="#cb2-62" aria-hidden="true" tabindex="-1"></a>        <span class="at">annotations =</span> <span class="fu">list</span>(</span>
<span id="cb2-63"><a href="#cb2-63" aria-hidden="true" tabindex="-1"></a>            <span class="fu">list</span>(</span>
<span id="cb2-64"><a href="#cb2-64" aria-hidden="true" tabindex="-1"></a>                <span class="at">x =</span> <span class="dv">2012</span>, <span class="at">y =</span> <span class="fl">0.44</span>, <span class="at">text =</span> <span class="st">"Analytics Era Begins"</span>,</span>
<span id="cb2-65"><a href="#cb2-65" aria-hidden="true" tabindex="-1"></a>                <span class="at">showarrow =</span> <span class="cn">FALSE</span>,</span>
<span id="cb2-66"><a href="#cb2-66" aria-hidden="true" tabindex="-1"></a>                <span class="at">font =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">8</span>, <span class="at">color =</span> <span class="st">"#f58426"</span>, <span class="at">weight =</span> <span class="st">"bold"</span>),</span>
<span id="cb2-67"><a href="#cb2-67" aria-hidden="true" tabindex="-1"></a>                <span class="at">xanchor =</span> <span class="st">"left"</span>, <span class="at">xshift =</span> <span class="dv">5</span></span>
<span id="cb2-68"><a href="#cb2-68" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb2-69"><a href="#cb2-69" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb2-70"><a href="#cb2-70" aria-hidden="true" tabindex="-1"></a>        <span class="at">shapes =</span> <span class="fu">list</span>(</span>
<span id="cb2-71"><a href="#cb2-71" aria-hidden="true" tabindex="-1"></a>            <span class="fu">list</span>(</span>
<span id="cb2-72"><a href="#cb2-72" aria-hidden="true" tabindex="-1"></a>                <span class="at">type =</span> <span class="st">"line"</span>, <span class="at">x0 =</span> <span class="dv">2012</span>, <span class="at">x1 =</span> <span class="dv">2012</span>, <span class="at">y0 =</span> <span class="dv">0</span>, <span class="at">y1 =</span> <span class="dv">1</span>,</span>
<span id="cb2-73"><a href="#cb2-73" aria-hidden="true" tabindex="-1"></a>                <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#f58426"</span>, <span class="at">width =</span> <span class="dv">2</span>, <span class="at">dash =</span> <span class="st">"dash"</span>),</span>
<span id="cb2-74"><a href="#cb2-74" aria-hidden="true" tabindex="-1"></a>                <span class="at">yref =</span> <span class="st">"paper"</span></span>
<span id="cb2-75"><a href="#cb2-75" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb2-76"><a href="#cb2-76" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb2-77"><a href="#cb2-77" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb2-78"><a href="#cb2-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-79"><a href="#cb2-79" aria-hidden="true" tabindex="-1"></a>fig_3par</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-1beb7abe778b0e41129b" style="width:100%;height:390px;"></div>
<script type="application/json" data-for="htmlwidget-1beb7abe778b0e41129b">{"x":{"visdat":{"2f6a36733196":["function () ","plotlyVisDat"]},"cur_data":"2f6a36733196","attrs":{"2f6a36733196":{"x":{},"y":{},"mode":"lines+markers","marker":{"size":6},"line":{"width":3},"hovertemplate":"<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","color":{},"colors":["#006bb6","#f58426","#bec0c2"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":{"text":"The Analytics Revolution: 3-Point Attempt Rate (1980-2025)","font":{"size":15,"weight":"bold"}},"xaxis":{"domain":[0,1],"automargin":true,"title":"Season"},"yaxis":{"domain":[0,1],"automargin":true,"title":"3-Point Attempt Rate (3PA / FGA)","tickformat":".0%"},"hovermode":"closest","template":"plotly_white","annotations":[{"x":2012,"y":0.44,"text":"Analytics Era Begins","showarrow":false,"font":{"size":8,"color":"#f58426","weight":"bold"},"xanchor":"left","xshift":5}],"shapes":[{"type":"line","x0":2012,"x1":2012,"y0":0,"y1":1,"line":{"color":"#f58426","width":2,"dash":"dash"},"yref":"paper"}],"showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[2012,2013,2014,2015,2016,2017,2018,2019],"y":[0.22587096774193549,0.24348387096774193,0.25958064516129031,0.26787096774193547,0.28445161290322579,0.31622580645161291,0.33703225806451614,0.35877419354838708],"mode":"lines+markers","marker":{"color":"rgba(245,132,38,1)","size":6,"line":{"color":"rgba(245,132,38,1)"}},"line":{"color":"rgba(245,132,38,1)","width":3},"hovertemplate":["<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>"],"type":"scatter","name":"Analytics Era","textfont":{"color":"rgba(245,132,38,1)"},"error_y":{"color":"rgba(245,132,38,1)"},"error_x":{"color":"rgba(245,132,38,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2020,2021,2022,2023,2024,2025],"y":[0.38390322580645159,0.39187096774193547,0.39961290322580645,0.3877741935483871,0.39470967741935487,0.42119354838709677],"mode":"lines+markers","marker":{"color":"rgba(190,192,194,1)","size":6,"line":{"color":"rgba(190,192,194,1)"}},"line":{"color":"rgba(190,192,194,1)","width":3},"hovertemplate":["<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>"],"type":"scatter","name":"Post-COVID Era","textfont":{"color":"rgba(190,192,194,1)"},"error_y":{"color":"rgba(190,192,194,1)"},"error_x":{"color":"rgba(190,192,194,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011],"y":[0.022916666666666669,0.025874999999999999,0.025125000000000001,0.026875,0.035166666666666666,0.037624999999999999,0.05320833333333333,0.057000000000000002,0.07361538461538461,0.07596428571428572,0.081535714285714281,0.087607142857142856,0.10425,0.11721428571428572,0.18757142857142856,0.20003333333333334,0.21213333333333334,0.15943333333333334,0.16843333333333332,0.1668,0.17003333333333334,0.18133333333333332,0.18166666666666667,0.18686666666666668,0.19583870967741934,0.20170967741935483,0.21212903225806451,0.22203225806451612,0.22387096774193549,0.2220967741935484,0.22183870967741937],"mode":"lines+markers","marker":{"color":"rgba(0,107,182,1)","size":6,"line":{"color":"rgba(0,107,182,1)"}},"line":{"color":"rgba(0,107,182,1)","width":3},"hovertemplate":["<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>","<b>Season:<\/b> %{x}<br> <b>3PAr:<\/b> %{y:.0%}<br> <extra><\/extra>"],"type":"scatter","name":"Pre-Analytics Era","textfont":{"color":"rgba(0,107,182,1)"},"error_y":{"color":"rgba(0,107,182,1)"},"error_x":{"color":"rgba(0,107,182,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>For three decades, from 1980 to 2011, NBA teams treated the three-pointer as a supplementary weapon rather than a foundational strategy, with attempt rates hovering consistently between 20% and 28%. Between 1995 and 1997, the rate peaked at 21% due to the league temporarily shortening the three-point line. However, from 1997 to 1998, we see a clear decline in attempts as the league reverted to the original distance. During this era, the mid-range jumper, the signature shot of basketball mastery taught in gyms from youth leagues to the professional ranks, remained dominant. But in 2012, Houston Rockets GM Daryl Morey’s analytics department did the math and exposed a harsh truth: mid-range shots, averaging roughly 0.8 points per attempt, were the least efficient in basketball, while three-pointers yielded significantly higher returns. Observing the visualization, we can clearly identify a structural break around 2012, as three-point attempt rates surge from roughly 28% to over 42% by 2025. Yet this shift raises a crucial question: If teams started shooing more threes, did it actually make them better or just different?</p>
</section>
<section id="efficiency-evolution-four-decades-of-offensive-rating-pace-and-shooting" class="level2">
<h2 class="anchored" data-anchor-id="efficiency-evolution-four-decades-of-offensive-rating-pace-and-shooting">2. Efficiency Evolution: Four Decades of Offensive Rating, Pace, and Shooting</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>efficiency_long <span class="ot">&lt;-</span> league_avg <span class="sc">%&gt;%</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(Season, ORtg, Pace, <span class="st">`</span><span class="at">TS%</span><span class="st">`</span>, <span class="st">`</span><span class="at">eFG%</span><span class="st">`</span>, Era) <span class="sc">%&gt;%</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pivot_longer</span>(</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">cols =</span> <span class="fu">c</span>(ORtg, Pace, <span class="st">`</span><span class="at">TS%</span><span class="st">`</span>, <span class="st">`</span><span class="at">eFG%</span><span class="st">`</span>),</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">names_to =</span> <span class="st">"Metric"</span>,</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">values_to =</span> <span class="st">"Value"</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>efficiency_facet <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(efficiency_long, <span class="fu">aes</span>(<span class="at">x =</span> Season, <span class="at">y =</span> Value, <span class="at">color =</span> Era)) <span class="sc">+</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"loess"</span>, <span class="at">se =</span> <span class="cn">TRUE</span>, <span class="at">alpha =</span> <span class="fl">0.2</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>Metric,</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">scales =</span> <span class="st">"free_y"</span>, <span class="at">ncol =</span> <span class="dv">2</span>,</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">labeller =</span> <span class="fu">labeller</span>(<span class="at">Metric =</span> <span class="fu">c</span>(</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>            <span class="st">"ORtg"</span> <span class="ot">=</span> <span class="st">"Offensive Rating (pts per 100 poss)"</span>,</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Pace"</span> <span class="ot">=</span> <span class="st">"Pace (possessions per 48 min)"</span>,</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>            <span class="st">"TS%"</span> <span class="ot">=</span> <span class="st">"True Shooting %"</span>,</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>            <span class="st">"eFG%"</span> <span class="ot">=</span> <span class="st">"Effective FG%"</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>        ))</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Pre-Analytics Era"</span> <span class="ot">=</span> <span class="st">"#006bb6"</span>,</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Analytics Era"</span> <span class="ot">=</span> <span class="st">"#f58426"</span>,</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Post-COVID Era"</span> <span class="ot">=</span> <span class="st">"#bec0c2"</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>    )) <span class="sc">+</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">title =</span> <span class="st">"NBA Efficiency Metrics: 45-Year Evolution (1980-2025)"</span>,</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">subtitle =</span> <span class="st">"Offensive rating climbed steadily; pace declined then rebounded; shooting efficiency surged post-2012"</span>,</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="st">"Season"</span>,</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="st">"Metric Value"</span>,</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> <span class="st">"Era"</span>,</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>        <span class="at">caption =</span> <span class="st">"Data: Basketball Reference | Black dashed line: LOESS smoothing"</span></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">12</span>) <span class="sc">+</span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">16</span>),</span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">11</span>, <span class="at">color =</span> <span class="st">"gray40"</span>),</span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>        <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">11</span>),</span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>()</span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>efficiency_facet</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data_viz_files/figure-html/efficiency-evolution-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>Observing the visualization, we can see that attempting more three pointers did, in fact, make teams measurably better. The chart tells a story spanning 45 years of performance gains driven by strategic optimization. <code>Offensive Rating</code> rose by roughly 11%, from 104 in 1980 to 115 in 2025, with the sharpest improvements occurring after 2012, precisely when three point attempt rates began to surge. We also see <code>True Shooting Percentage</code> climb from 53% to 58%, reinforcing the conclusion that teams became more efficient scorers by optimizing the quality of their shots. The <code>Pace</code> metric follows a U-shaped trajectory, reflecting the evolution of play styles over time. It went from the fast, run and gun tempo of the 1980s, to the slowed isolation heavy 2000s, and finally rebounding post 2012 as teams embraced a more controlled yet efficient rhythm. Lastly, the rise in <code>Effective Field Goal Percentage</code> suggests that these improvements weren’t merely the result of drawing more fouls. Teams didn’t shoot more threes by accident; they made a deliberate, data driven decision to sacrifice mid range shots in exchange for more threes and attempts at the rim.</p>
</section>
<section id="death-of-the-midrange-shot-zone-trends-2004-2025" class="level2">
<h2 class="anchored" data-anchor-id="death-of-the-midrange-shot-zone-trends-2004-2025">3. Death of the Midrange: Shot Zone Trends (2004-2025)</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>shot_files <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="st">"data/shot_location"</span>, <span class="at">pattern =</span> <span class="st">"NBA_.*_Shots.csv"</span>, <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>extract_season <span class="ot">&lt;-</span> <span class="cf">function</span>(filename) {</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    year_str <span class="ot">&lt;-</span> <span class="fu">str_extract</span>(<span class="fu">basename</span>(filename), <span class="st">"</span><span class="sc">\\</span><span class="st">d{4}"</span>)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="fu">as.numeric</span>(year_str))</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>shot_data_sample <span class="ot">&lt;-</span> <span class="fu">map_df</span>(shot_files, <span class="cf">function</span>(file) {</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    season_year <span class="ot">&lt;-</span> <span class="fu">extract_season</span>(file)</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>    df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(file, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>, <span class="at">n_max =</span> <span class="dv">50000</span>)</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>    df<span class="sc">$</span>Season <span class="ot">&lt;-</span> season_year</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(df)</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>zone_distribution <span class="ot">&lt;-</span> shot_data_sample <span class="sc">%&gt;%</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(BASIC_ZONE)) <span class="sc">%&gt;%</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(Season, BASIC_ZONE) <span class="sc">%&gt;%</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">Shot_Count =</span> <span class="fu">n</span>(),</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(Season) <span class="sc">%&gt;%</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">Shot_Percentage =</span> Shot_Count <span class="sc">/</span> <span class="fu">sum</span>(Shot_Count) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>()</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>key_zones <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Mid-Range"</span>, <span class="st">"Restricted Area"</span>, <span class="st">"Above the Break 3"</span>,</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Left Corner 3"</span>, <span class="st">"Right Corner 3"</span></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>zone_trends <span class="ot">&lt;-</span> zone_distribution <span class="sc">%&gt;%</span></span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(BASIC_ZONE <span class="sc">%in%</span> key_zones) <span class="sc">%&gt;%</span></span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>        <span class="at">Zone_Category =</span> <span class="fu">case_when</span>(</span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>            BASIC_ZONE <span class="sc">==</span> <span class="st">"Mid-Range"</span> <span class="sc">~</span> <span class="st">"Mid-Range (≈8–22 ft)"</span>,</span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>            BASIC_ZONE <span class="sc">==</span> <span class="st">"Restricted Area"</span> <span class="sc">~</span> <span class="st">"At Rim"</span>,</span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>            BASIC_ZONE <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Left Corner 3"</span>, <span class="st">"Right Corner 3"</span>) <span class="sc">~</span> <span class="st">"Corner 3s"</span>,</span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>            BASIC_ZONE <span class="sc">==</span> <span class="st">"Above the Break 3"</span> <span class="sc">~</span> <span class="st">"Non-Corner 3s (Arc)"</span>,</span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>            <span class="cn">TRUE</span> <span class="sc">~</span> BASIC_ZONE</span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(Season, Zone_Category) <span class="sc">%&gt;%</span></span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">Shot_Percentage =</span> <span class="fu">sum</span>(Shot_Percentage), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>zone_trends <span class="ot">&lt;-</span> zone_trends <span class="sc">%&gt;%</span></span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a>        <span class="at">tooltip_text =</span> <span class="fu">paste0</span>(</span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Season: "</span>, Season, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Zone: "</span>, Zone_Category, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Percentage: "</span>, <span class="fu">round</span>(Shot_Percentage, <span class="dv">0</span>), <span class="st">"%"</span></span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a>rect_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">xmin =</span> <span class="dv">2012</span>, <span class="at">xmax =</span> <span class="dv">2015</span>,</span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a>    <span class="at">ymin =</span> <span class="dv">0</span>, <span class="at">ymax =</span> <span class="dv">45</span></span>
<span id="cb4-60"><a href="#cb4-60" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-61"><a href="#cb4-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-62"><a href="#cb4-62" aria-hidden="true" tabindex="-1"></a>midrange_line_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(zone_trends, <span class="fu">aes</span>(</span>
<span id="cb4-63"><a href="#cb4-63" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> Season, <span class="at">y =</span> Shot_Percentage,</span>
<span id="cb4-64"><a href="#cb4-64" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> Zone_Category,</span>
<span id="cb4-65"><a href="#cb4-65" aria-hidden="true" tabindex="-1"></a>    <span class="at">linetype =</span> Zone_Category,</span>
<span id="cb4-66"><a href="#cb4-66" aria-hidden="true" tabindex="-1"></a>    <span class="at">text =</span> tooltip_text</span>
<span id="cb4-67"><a href="#cb4-67" aria-hidden="true" tabindex="-1"></a>)) <span class="sc">+</span></span>
<span id="cb4-68"><a href="#cb4-68" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_rect</span>(</span>
<span id="cb4-69"><a href="#cb4-69" aria-hidden="true" tabindex="-1"></a>        <span class="at">data =</span> rect_data, <span class="at">inherit.aes =</span> <span class="cn">FALSE</span>,</span>
<span id="cb4-70"><a href="#cb4-70" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">xmin =</span> xmin, <span class="at">xmax =</span> xmax, <span class="at">ymin =</span> ymin, <span class="at">ymax =</span> ymax),</span>
<span id="cb4-71"><a href="#cb4-71" aria-hidden="true" tabindex="-1"></a>        <span class="at">fill =</span> <span class="st">"#f58426"</span>, <span class="at">alpha =</span> <span class="fl">0.1</span></span>
<span id="cb4-72"><a href="#cb4-72" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb4-73"><a href="#cb4-73" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb4-74"><a href="#cb4-74" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="fl">2.5</span>) <span class="sc">+</span></span>
<span id="cb4-75"><a href="#cb4-75" aria-hidden="true" tabindex="-1"></a>    <span class="fu">annotate</span>(<span class="st">"text"</span>,</span>
<span id="cb4-76"><a href="#cb4-76" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="fl">2013.5</span>, <span class="at">y =</span> <span class="dv">42</span>, <span class="at">label =</span> <span class="st">"Analytics</span><span class="sc">\n</span><span class="st">Revolution"</span>, <span class="at">fontface =</span> <span class="st">"bold"</span>, <span class="at">color =</span> <span class="st">"#f58426"</span></span>
<span id="cb4-77"><a href="#cb4-77" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb4-78"><a href="#cb4-78" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(</span>
<span id="cb4-79"><a href="#cb4-79" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Mid-Range (≈8–22 ft)"</span> <span class="ot">=</span> <span class="st">"#bec0c2"</span>,</span>
<span id="cb4-80"><a href="#cb4-80" aria-hidden="true" tabindex="-1"></a>        <span class="st">"At Rim"</span> <span class="ot">=</span> <span class="st">"#006bb6"</span>,</span>
<span id="cb4-81"><a href="#cb4-81" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Corner 3s"</span> <span class="ot">=</span> <span class="st">"#f58426"</span>,</span>
<span id="cb4-82"><a href="#cb4-82" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Non-Corner 3s (Arc)"</span> <span class="ot">=</span> <span class="st">"#000000"</span></span>
<span id="cb4-83"><a href="#cb4-83" aria-hidden="true" tabindex="-1"></a>    )) <span class="sc">+</span></span>
<span id="cb4-84"><a href="#cb4-84" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_linetype_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(</span>
<span id="cb4-85"><a href="#cb4-85" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Mid-Range (≈8–22 ft)"</span> <span class="ot">=</span> <span class="st">"solid"</span>,</span>
<span id="cb4-86"><a href="#cb4-86" aria-hidden="true" tabindex="-1"></a>        <span class="st">"At Rim"</span>               <span class="ot">=</span> <span class="st">"solid"</span>,</span>
<span id="cb4-87"><a href="#cb4-87" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Corner 3s"</span>            <span class="ot">=</span> <span class="st">"dashed"</span>,</span>
<span id="cb4-88"><a href="#cb4-88" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Non-Corner 3s (Arc)"</span>  <span class="ot">=</span> <span class="st">"dotted"</span></span>
<span id="cb4-89"><a href="#cb4-89" aria-hidden="true" tabindex="-1"></a>    )) <span class="sc">+</span></span>
<span id="cb4-90"><a href="#cb4-90" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb4-91"><a href="#cb4-91" aria-hidden="true" tabindex="-1"></a>        <span class="at">title =</span> <span class="st">"The Death of the Midrange: Shot Zone Trends (2004–2025)"</span>,</span>
<span id="cb4-92"><a href="#cb4-92" aria-hidden="true" tabindex="-1"></a>        <span class="at">subtitle =</span> <span class="st">"Mid-range declined while arc and corner 3s surged; at-rim remained relatively stable"</span>,</span>
<span id="cb4-93"><a href="#cb4-93" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="st">"Season"</span>, <span class="at">y =</span> <span class="st">"Percentage of Total Shots (%)"</span>,</span>
<span id="cb4-94"><a href="#cb4-94" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> <span class="st">"Shot Zone"</span>, <span class="at">linetype =</span> <span class="st">"Shot Zone"</span></span>
<span id="cb4-95"><a href="#cb4-95" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb4-96"><a href="#cb4-96" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">10</span>) <span class="sc">+</span></span>
<span id="cb4-97"><a href="#cb4-97" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb4-98"><a href="#cb4-98" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">13</span>),</span>
<span id="cb4-99"><a href="#cb4-99" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">9</span>, <span class="at">color =</span> <span class="st">"gray40"</span>),</span>
<span id="cb4-100"><a href="#cb4-100" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">9</span>),</span>
<span id="cb4-101"><a href="#cb4-101" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>),</span>
<span id="cb4-102"><a href="#cb4-102" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb4-103"><a href="#cb4-103" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">9</span>),</span>
<span id="cb4-104"><a href="#cb4-104" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>),</span>
<span id="cb4-105"><a href="#cb4-105" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>()</span>
<span id="cb4-106"><a href="#cb4-106" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb4-107"><a href="#cb4-107" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">45</span>), <span class="at">labels =</span> <span class="cf">function</span>(x) <span class="fu">paste0</span>(x, <span class="st">"%"</span>))</span>
<span id="cb4-108"><a href="#cb4-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-109"><a href="#cb4-109" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplotly</span>(midrange_line_plot, <span class="at">tooltip =</span> <span class="st">"text"</span>)</span>
<span id="cb4-110"><a href="#cb4-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-111"><a href="#cb4-111" aria-hidden="true" tabindex="-1"></a>p <span class="sc">%&gt;%</span> <span class="fu">style</span>(<span class="at">mode =</span> <span class="st">"lines+markers"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-38bc8befa430bb20010c" style="width:100%;height:379px;"></div>
<script type="application/json" data-for="htmlwidget-38bc8befa430bb20010c">{"x":{"data":[{"x":[2012,2012,2015,2015,2012],"y":[0,45,45,0,0],"text":"","type":"scatter","mode":"lines+markers","line":{"width":1.8897637795275593,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(245,132,38,0.1)","hoveron":"fills","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2004,null,2005,null,2006,null,2007,null,2008,null,2009,null,2010,null,2011,null,2012,null,2013,null,2014,null,2015,null,2016,null,2017,null,2018,null,2019,null,2020,null,2021,null,2022,null,2023,null,2024,null,2025],"y":[31.803999999999998,null,32.420000000000002,null,32.740000000000002,null,32.503999999999998,null,31.494,null,33.006,null,33.423999999999999,null,32.167999999999999,null,32.812000000000005,null,32.686,null,32.640000000000001,null,32.275999999999996,null,32.613999999999997,null,32.562000000000005,null,31.532,null,32.775999999999996,null,31.827999999999999,null,30.248000000000001,null,29.212,null,29.155999999999999,null,29.227999999999998,null,27.731999999999999],"text":["Season: 2004<br />Zone: At Rim<br />Percentage: 32%",null,"Season: 2005<br />Zone: At Rim<br />Percentage: 32%",null,"Season: 2006<br />Zone: At Rim<br />Percentage: 33%",null,"Season: 2007<br />Zone: At Rim<br />Percentage: 33%",null,"Season: 2008<br />Zone: At Rim<br />Percentage: 31%",null,"Season: 2009<br />Zone: At Rim<br />Percentage: 33%",null,"Season: 2010<br />Zone: At Rim<br />Percentage: 33%",null,"Season: 2011<br />Zone: At Rim<br />Percentage: 32%",null,"Season: 2012<br />Zone: At Rim<br />Percentage: 33%",null,"Season: 2013<br />Zone: At Rim<br />Percentage: 33%",null,"Season: 2014<br />Zone: At Rim<br />Percentage: 33%",null,"Season: 2015<br />Zone: At Rim<br />Percentage: 32%",null,"Season: 2016<br />Zone: At Rim<br />Percentage: 33%",null,"Season: 2017<br />Zone: At Rim<br />Percentage: 33%",null,"Season: 2018<br />Zone: At Rim<br />Percentage: 32%",null,"Season: 2019<br />Zone: At Rim<br />Percentage: 33%",null,"Season: 2020<br />Zone: At Rim<br />Percentage: 32%",null,"Season: 2021<br />Zone: At Rim<br />Percentage: 30%",null,"Season: 2022<br />Zone: At Rim<br />Percentage: 29%",null,"Season: 2023<br />Zone: At Rim<br />Percentage: 29%",null,"Season: 2024<br />Zone: At Rim<br />Percentage: 29%",null,"Season: 2025<br />Zone: At Rim<br />Percentage: 28%"],"type":"scatter","mode":"lines+markers","line":{"width":5.6692913385826778,"color":"rgba(0,107,182,1)","dash":"solid"},"hoveron":"points","name":"At Rim","legendgroup":"At Rim","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2004,null,2005,null,2006,null,2007,null,2008,null,2009,null,2010,null,2011,null,2012,null,2013,null,2014,null,2015,null,2016,null,2017,null,2018,null,2019,null,2020,null,2021,null,2022,null,2023,null,2024,null,2025],"y":[5.1219999999999999,null,5.7800000000000002,null,6.1440000000000001,null,6.1779999999999999,null,5.9960000000000004,null,6.3499999999999996,null,6.1900000000000004,null,6.25,null,6.1020000000000003,null,6.6579999999999995,null,6.8479999999999999,null,7.0620000000000003,null,7.806,null,7.2959999999999994,null,7.6399999999999988,null,8.5459999999999994,null,9.1799999999999997,null,9.1020000000000003,null,10.308,null,9.3439999999999994,null,10.056000000000001,null,11.382000000000001],"text":["Season: 2004<br />Zone: Corner 3s<br />Percentage: 5%",null,"Season: 2005<br />Zone: Corner 3s<br />Percentage: 6%",null,"Season: 2006<br />Zone: Corner 3s<br />Percentage: 6%",null,"Season: 2007<br />Zone: Corner 3s<br />Percentage: 6%",null,"Season: 2008<br />Zone: Corner 3s<br />Percentage: 6%",null,"Season: 2009<br />Zone: Corner 3s<br />Percentage: 6%",null,"Season: 2010<br />Zone: Corner 3s<br />Percentage: 6%",null,"Season: 2011<br />Zone: Corner 3s<br />Percentage: 6%",null,"Season: 2012<br />Zone: Corner 3s<br />Percentage: 6%",null,"Season: 2013<br />Zone: Corner 3s<br />Percentage: 7%",null,"Season: 2014<br />Zone: Corner 3s<br />Percentage: 7%",null,"Season: 2015<br />Zone: Corner 3s<br />Percentage: 7%",null,"Season: 2016<br />Zone: Corner 3s<br />Percentage: 8%",null,"Season: 2017<br />Zone: Corner 3s<br />Percentage: 7%",null,"Season: 2018<br />Zone: Corner 3s<br />Percentage: 8%",null,"Season: 2019<br />Zone: Corner 3s<br />Percentage: 9%",null,"Season: 2020<br />Zone: Corner 3s<br />Percentage: 9%",null,"Season: 2021<br />Zone: Corner 3s<br />Percentage: 9%",null,"Season: 2022<br />Zone: Corner 3s<br />Percentage: 10%",null,"Season: 2023<br />Zone: Corner 3s<br />Percentage: 9%",null,"Season: 2024<br />Zone: Corner 3s<br />Percentage: 10%",null,"Season: 2025<br />Zone: Corner 3s<br />Percentage: 11%"],"type":"scatter","mode":"lines+markers","line":{"width":5.6692913385826778,"color":"rgba(245,132,38,1)","dash":"dash"},"hoveron":"points","name":"Corner 3s","legendgroup":"Corner 3s","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2004,null,2005,null,2006,null,2007,null,2008,null,2009,null,2010,null,2011,null,2012,null,2013,null,2014,null,2015,null,2016,null,2017,null,2018,null,2019,null,2020,null,2021,null,2022,null,2023,null,2024,null,2025],"y":[34.829999999999998,null,34.545999999999999,null,33.351999999999997,null,33.534000000000006,null,32.619999999999997,null,32.161999999999999,null,30.802000000000003,null,30.940000000000001,null,30.192000000000004,null,28.189999999999998,null,25.640000000000001,null,25.729999999999997,null,23.474,null,21.673999999999999,null,18.16,null,14.298,null,13.050000000000001,null,12.620000000000001,null,12.257999999999999,null,11.67,null,10.657999999999999,null,7.8100000000000005],"text":["Season: 2004<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 35%",null,"Season: 2005<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 35%",null,"Season: 2006<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 33%",null,"Season: 2007<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 34%",null,"Season: 2008<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 33%",null,"Season: 2009<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 32%",null,"Season: 2010<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 31%",null,"Season: 2011<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 31%",null,"Season: 2012<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 30%",null,"Season: 2013<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 28%",null,"Season: 2014<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 26%",null,"Season: 2015<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 26%",null,"Season: 2016<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 23%",null,"Season: 2017<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 22%",null,"Season: 2018<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 18%",null,"Season: 2019<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 14%",null,"Season: 2020<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 13%",null,"Season: 2021<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 13%",null,"Season: 2022<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 12%",null,"Season: 2023<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 12%",null,"Season: 2024<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 11%",null,"Season: 2025<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 8%"],"type":"scatter","mode":"lines+markers","line":{"width":5.6692913385826778,"color":"rgba(190,192,194,1)","dash":"solid"},"hoveron":"points","name":"Mid-Range (≈8–22 ft)","legendgroup":"Mid-Range (≈8–22 ft)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2004,null,2005,null,2006,null,2007,null,2008,null,2009,null,2010,null,2011,null,2012,null,2013,null,2014,null,2015,null,2016,null,2017,null,2018,null,2019,null,2020,null,2021,null,2022,null,2023,null,2024,null,2025],"y":[13.492000000000001,null,14.266000000000002,null,15.068000000000001,null,15.046000000000001,null,16.445999999999998,null,15.504000000000001,null,16.550000000000001,null,15.518000000000001,null,16.420000000000002,null,17.905999999999999,null,20.012,null,19.48,null,21.362000000000002,null,24.215999999999998,null,25.985999999999997,null,27.998000000000001,null,30.203999999999997,null,29.712,null,29.337999999999997,null,28.738000000000003,null,28.962,null,33.539999999999999],"text":["Season: 2004<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 13%",null,"Season: 2005<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 14%",null,"Season: 2006<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 15%",null,"Season: 2007<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 15%",null,"Season: 2008<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 16%",null,"Season: 2009<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 16%",null,"Season: 2010<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 17%",null,"Season: 2011<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 16%",null,"Season: 2012<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 16%",null,"Season: 2013<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 18%",null,"Season: 2014<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 20%",null,"Season: 2015<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 19%",null,"Season: 2016<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 21%",null,"Season: 2017<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 24%",null,"Season: 2018<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 26%",null,"Season: 2019<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 28%",null,"Season: 2020<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 30%",null,"Season: 2021<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 30%",null,"Season: 2022<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 29%",null,"Season: 2023<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 29%",null,"Season: 2024<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 29%",null,"Season: 2025<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 34%"],"type":"scatter","mode":"lines+markers","line":{"width":5.6692913385826778,"color":"rgba(0,0,0,1)","dash":"dot"},"hoveron":"points","name":"Non-Corner 3s (Arc)","legendgroup":"Non-Corner 3s (Arc)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025],"y":[31.803999999999998,32.420000000000002,32.740000000000002,32.503999999999998,31.494,33.006,33.423999999999999,32.167999999999999,32.812000000000005,32.686,32.640000000000001,32.275999999999996,32.613999999999997,32.562000000000005,31.532,32.775999999999996,31.827999999999999,30.248000000000001,29.212,29.155999999999999,29.227999999999998,27.731999999999999],"text":["Season: 2004<br />Zone: At Rim<br />Percentage: 32%","Season: 2005<br />Zone: At Rim<br />Percentage: 32%","Season: 2006<br />Zone: At Rim<br />Percentage: 33%","Season: 2007<br />Zone: At Rim<br />Percentage: 33%","Season: 2008<br />Zone: At Rim<br />Percentage: 31%","Season: 2009<br />Zone: At Rim<br />Percentage: 33%","Season: 2010<br />Zone: At Rim<br />Percentage: 33%","Season: 2011<br />Zone: At Rim<br />Percentage: 32%","Season: 2012<br />Zone: At Rim<br />Percentage: 33%","Season: 2013<br />Zone: At Rim<br />Percentage: 33%","Season: 2014<br />Zone: At Rim<br />Percentage: 33%","Season: 2015<br />Zone: At Rim<br />Percentage: 32%","Season: 2016<br />Zone: At Rim<br />Percentage: 33%","Season: 2017<br />Zone: At Rim<br />Percentage: 33%","Season: 2018<br />Zone: At Rim<br />Percentage: 32%","Season: 2019<br />Zone: At Rim<br />Percentage: 33%","Season: 2020<br />Zone: At Rim<br />Percentage: 32%","Season: 2021<br />Zone: At Rim<br />Percentage: 30%","Season: 2022<br />Zone: At Rim<br />Percentage: 29%","Season: 2023<br />Zone: At Rim<br />Percentage: 29%","Season: 2024<br />Zone: At Rim<br />Percentage: 29%","Season: 2025<br />Zone: At Rim<br />Percentage: 28%"],"type":"scatter","mode":"lines+markers","marker":{"autocolorscale":false,"color":"rgba(0,107,182,1)","opacity":1,"size":9.4488188976377963,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,107,182,1)"}},"hoveron":"points","name":"At Rim","legendgroup":"At Rim","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025],"y":[5.1219999999999999,5.7800000000000002,6.1440000000000001,6.1779999999999999,5.9960000000000004,6.3499999999999996,6.1900000000000004,6.25,6.1020000000000003,6.6579999999999995,6.8479999999999999,7.0620000000000003,7.806,7.2959999999999994,7.6399999999999988,8.5459999999999994,9.1799999999999997,9.1020000000000003,10.308,9.3439999999999994,10.056000000000001,11.382000000000001],"text":["Season: 2004<br />Zone: Corner 3s<br />Percentage: 5%","Season: 2005<br />Zone: Corner 3s<br />Percentage: 6%","Season: 2006<br />Zone: Corner 3s<br />Percentage: 6%","Season: 2007<br />Zone: Corner 3s<br />Percentage: 6%","Season: 2008<br />Zone: Corner 3s<br />Percentage: 6%","Season: 2009<br />Zone: Corner 3s<br />Percentage: 6%","Season: 2010<br />Zone: Corner 3s<br />Percentage: 6%","Season: 2011<br />Zone: Corner 3s<br />Percentage: 6%","Season: 2012<br />Zone: Corner 3s<br />Percentage: 6%","Season: 2013<br />Zone: Corner 3s<br />Percentage: 7%","Season: 2014<br />Zone: Corner 3s<br />Percentage: 7%","Season: 2015<br />Zone: Corner 3s<br />Percentage: 7%","Season: 2016<br />Zone: Corner 3s<br />Percentage: 8%","Season: 2017<br />Zone: Corner 3s<br />Percentage: 7%","Season: 2018<br />Zone: Corner 3s<br />Percentage: 8%","Season: 2019<br />Zone: Corner 3s<br />Percentage: 9%","Season: 2020<br />Zone: Corner 3s<br />Percentage: 9%","Season: 2021<br />Zone: Corner 3s<br />Percentage: 9%","Season: 2022<br />Zone: Corner 3s<br />Percentage: 10%","Season: 2023<br />Zone: Corner 3s<br />Percentage: 9%","Season: 2024<br />Zone: Corner 3s<br />Percentage: 10%","Season: 2025<br />Zone: Corner 3s<br />Percentage: 11%"],"type":"scatter","mode":"lines+markers","marker":{"autocolorscale":false,"color":"rgba(245,132,38,1)","opacity":1,"size":9.4488188976377963,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(245,132,38,1)"}},"hoveron":"points","name":"Corner 3s","legendgroup":"Corner 3s","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025],"y":[34.829999999999998,34.545999999999999,33.351999999999997,33.534000000000006,32.619999999999997,32.161999999999999,30.802000000000003,30.940000000000001,30.192000000000004,28.189999999999998,25.640000000000001,25.729999999999997,23.474,21.673999999999999,18.16,14.298,13.050000000000001,12.620000000000001,12.257999999999999,11.67,10.657999999999999,7.8100000000000005],"text":["Season: 2004<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 35%","Season: 2005<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 35%","Season: 2006<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 33%","Season: 2007<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 34%","Season: 2008<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 33%","Season: 2009<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 32%","Season: 2010<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 31%","Season: 2011<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 31%","Season: 2012<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 30%","Season: 2013<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 28%","Season: 2014<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 26%","Season: 2015<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 26%","Season: 2016<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 23%","Season: 2017<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 22%","Season: 2018<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 18%","Season: 2019<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 14%","Season: 2020<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 13%","Season: 2021<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 13%","Season: 2022<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 12%","Season: 2023<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 12%","Season: 2024<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 11%","Season: 2025<br />Zone: Mid-Range (≈8–22 ft)<br />Percentage: 8%"],"type":"scatter","mode":"lines+markers","marker":{"autocolorscale":false,"color":"rgba(190,192,194,1)","opacity":1,"size":9.4488188976377963,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(190,192,194,1)"}},"hoveron":"points","name":"Mid-Range (≈8–22 ft)","legendgroup":"Mid-Range (≈8–22 ft)","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025],"y":[13.492000000000001,14.266000000000002,15.068000000000001,15.046000000000001,16.445999999999998,15.504000000000001,16.550000000000001,15.518000000000001,16.420000000000002,17.905999999999999,20.012,19.48,21.362000000000002,24.215999999999998,25.985999999999997,27.998000000000001,30.203999999999997,29.712,29.337999999999997,28.738000000000003,28.962,33.539999999999999],"text":["Season: 2004<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 13%","Season: 2005<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 14%","Season: 2006<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 15%","Season: 2007<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 15%","Season: 2008<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 16%","Season: 2009<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 16%","Season: 2010<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 17%","Season: 2011<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 16%","Season: 2012<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 16%","Season: 2013<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 18%","Season: 2014<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 20%","Season: 2015<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 19%","Season: 2016<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 21%","Season: 2017<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 24%","Season: 2018<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 26%","Season: 2019<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 28%","Season: 2020<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 30%","Season: 2021<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 30%","Season: 2022<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 29%","Season: 2023<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 29%","Season: 2024<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 29%","Season: 2025<br />Zone: Non-Corner 3s (Arc)<br />Percentage: 34%"],"type":"scatter","mode":"lines+markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":9.4488188976377963,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Non-Corner 3s (Arc)","legendgroup":"Non-Corner 3s (Arc)","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2013.5],"y":[42],"text":"Analytics<br />Revolution","hovertext":"","textfont":{"size":14.66456692913386,"color":"rgba(245,132,38,1)"},"type":"scatter","mode":"lines+markers+text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":44.654450572258796,"r":6.6417600664176026,"b":37.288738658601673,"l":37.858032378580333},"font":{"color":"rgba(0,0,0,1)","family":"","size":13.283520132835205},"title":{"text":"<b> The Death of the Midrange: Shot Zone Trends (2004–2025) <\/b>","font":{"color":"rgba(0,0,0,1)","family":"","size":17.268576172685769},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[2002.95,2026.05],"tickmode":"array","ticktext":["2005","2010","2015","2020","2025"],"tickvals":[2005,2010,2015,2020,2025],"categoryorder":"array","categoryarray":["2005","2010","2015","2020","2025"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.3208800332088013,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":10.62681610626816},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.60379636967432737,"zeroline":false,"anchor":"y","title":{"text":"Season","font":{"color":"rgba(0,0,0,1)","family":"","size":11.955168119551683}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-2.25,47.25],"tickmode":"array","ticktext":["0%","10%","20%","30%","40%"],"tickvals":[0,10,20,30,40],"categoryorder":"array","categoryarray":["0%","10%","20%","30%","40%"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.3208800332088013,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":10.62681610626816},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.60379636967432737,"zeroline":false,"anchor":"x","title":{"text":"Percentage of Total Shots (%)","font":{"color":"rgba(0,0,0,1)","family":"","size":11.955168119551683}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":10.62681610626816},"title":{"text":"Shot Zone","font":{"color":"rgba(0,0,0,1)","family":"","size":11.955168119551683}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"2f6a5e691fa3":{"xmin":{},"xmax":{},"ymin":{},"ymax":{},"type":"scatter"},"2f6a479c36c1":{"x":{},"y":{},"colour":{},"linetype":{},"text":{}},"2f6a60cedda1":{"x":{},"y":{},"colour":{},"linetype":{},"text":{}},"2f6a2d38a6ae":{"x":{},"y":{}}},"cur_data":"2f6a5e691fa3","visdat":{"2f6a5e691fa3":["function (y) ","x"],"2f6a479c36c1":["function (y) ","x"],"2f6a60cedda1":["function (y) ","x"],"2f6a2d38a6ae":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>We can clearly see the trade-off in the visualization above. Mid-range shots, which accounted for about 35% of all attempts in 2004, collapsed to just 13% by 2025. Meanwhile, corner threes doubled, and above-the-arc threes surged from 13% to 34%. Shots at the rim remained relatively stable throughout this period. Around the 2015–2016 season, three-point attempts beyond the arc surpassed mid-range shots for the first time in NBA history. This shift reflects teams’ evolving approach: attack the rim for high-percentage looks, draw fouls or create putback opportunities, or shoot threes for higher expected value</p>
</section>
<section id="court-shot-charts-evolution-of-shot-selection-2004-2024-w.-focus-on-boston-celtics" class="level2">
<h2 class="anchored" data-anchor-id="court-shot-charts-evolution-of-shot-selection-2004-2024-w.-focus-on-boston-celtics">4. Court Shot Charts: Evolution of Shot Selection (2004-2024) w. Focus on Boston Celtics</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"NBA_shots_tutorial.R"</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>shots_2004 <span class="ot">&lt;-</span> shot_data_sample <span class="sc">%&gt;%</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(Season <span class="sc">==</span> <span class="dv">2004</span>, <span class="sc">!</span><span class="fu">is.na</span>(LOC_X), <span class="sc">!</span><span class="fu">is.na</span>(LOC_Y), LOC_Y <span class="sc">&lt;=</span> <span class="dv">47</span>)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>zone_check_2004 <span class="ot">&lt;-</span> shots_2004 <span class="sc">%&gt;%</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(BASIC_ZONE)) <span class="sc">%&gt;%</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(BASIC_ZONE) <span class="sc">%&gt;%</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">Count =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">Percentage =</span> Count <span class="sc">/</span> <span class="fu">sum</span>(Count) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="fu">desc</span>(Count))</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>years_to_plot <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2004</span>, <span class="dv">2008</span>, <span class="dv">2012</span>, <span class="dv">2016</span>, <span class="dv">2019</span>, <span class="dv">2024</span>)</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>create_court_for_year <span class="ot">&lt;-</span> <span class="cf">function</span>(year) {</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>    shots_year <span class="ot">&lt;-</span> shot_data_sample <span class="sc">%&gt;%</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(Season <span class="sc">==</span> year, <span class="sc">!</span><span class="fu">is.na</span>(LOC_X), <span class="sc">!</span><span class="fu">is.na</span>(LOC_Y), LOC_Y <span class="sc">&lt;=</span> <span class="dv">47</span>, <span class="sc">!</span><span class="fu">is.na</span>(BASIC_ZONE))</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>    shots_year <span class="ot">&lt;-</span> shots_year <span class="sc">%&gt;%</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>            <span class="at">Zone_Category =</span> <span class="fu">case_when</span>(</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>                BASIC_ZONE <span class="sc">==</span> <span class="st">"Mid-Range"</span> <span class="sc">~</span> <span class="st">"Mid-Range"</span>,</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>                BASIC_ZONE <span class="sc">==</span> <span class="st">"Restricted Area"</span> <span class="sc">~</span> <span class="st">"At Rim"</span>,</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>                BASIC_ZONE <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Left Corner 3"</span>, <span class="st">"Right Corner 3"</span>) <span class="sc">~</span> <span class="st">"Corner 3s"</span>,</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>                BASIC_ZONE <span class="sc">==</span> <span class="st">"Above the Break 3"</span> <span class="sc">~</span> <span class="st">"Above Arc 3s"</span>,</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>                <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Other"</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">nrow</span>(shots_year) <span class="sc">&gt;</span> <span class="dv">3000</span>) {</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>        <span class="fu">set.seed</span>(<span class="dv">42</span>) <span class="co"># For reproducibility</span></span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>        shots_year <span class="ot">&lt;-</span> shots_year <span class="sc">%&gt;%</span> <span class="fu">sample_n</span>(<span class="dv">3000</span>)</span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>    subtitle <span class="ot">&lt;-</span> <span class="fu">case_when</span>(</span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>        year <span class="sc">==</span> <span class="dv">2004</span> <span class="sc">~</span> <span class="st">"Pre-Analytics"</span>,</span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>        year <span class="sc">==</span> <span class="dv">2008</span> <span class="sc">~</span> <span class="st">"Early Transition"</span>,</span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>        year <span class="sc">==</span> <span class="dv">2012</span> <span class="sc">~</span> <span class="st">"Moreyball Begins"</span>,</span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>        year <span class="sc">==</span> <span class="dv">2016</span> <span class="sc">~</span> <span class="st">"Warriors Dynasty"</span>,</span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>        year <span class="sc">==</span> <span class="dv">2019</span> <span class="sc">~</span> <span class="st">"Pre-COVID"</span>,</span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>        year <span class="sc">==</span> <span class="dv">2024</span> <span class="sc">~</span> <span class="st">"Modern Era"</span>,</span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">""</span></span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plot_court</span>(court_themes<span class="sc">$</span>dark, <span class="at">use_short_three =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_point</span>(</span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a>            <span class="at">data =</span> shots_year,</span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a>            <span class="fu">aes</span>(<span class="at">x =</span> LOC_X, <span class="at">y =</span> LOC_Y, <span class="at">color =</span> Zone_Category),</span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a>            <span class="at">size =</span> <span class="fl">1.2</span>,</span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a>            <span class="at">alpha =</span> <span class="fl">0.6</span></span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_color_manual</span>(</span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a>            <span class="at">values =</span> <span class="fu">c</span>(</span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Mid-Range"</span> <span class="ot">=</span> <span class="st">"#d62728"</span>,</span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a>                <span class="st">"At Rim"</span> <span class="ot">=</span> <span class="st">"#1f77b4"</span>,</span>
<span id="cb5-56"><a href="#cb5-56" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Corner 3s"</span> <span class="ot">=</span> <span class="st">"#ff7f0e"</span>,</span>
<span id="cb5-57"><a href="#cb5-57" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Above Arc 3s"</span> <span class="ot">=</span> <span class="st">"#2ca02c"</span>,</span>
<span id="cb5-58"><a href="#cb5-58" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Other"</span> <span class="ot">=</span> <span class="st">"gray70"</span></span>
<span id="cb5-59"><a href="#cb5-59" aria-hidden="true" tabindex="-1"></a>            ),</span>
<span id="cb5-60"><a href="#cb5-60" aria-hidden="true" tabindex="-1"></a>            <span class="at">name =</span> <span class="st">"Zone"</span></span>
<span id="cb5-61"><a href="#cb5-61" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb5-62"><a href="#cb5-62" aria-hidden="true" tabindex="-1"></a>        <span class="fu">labs</span>(</span>
<span id="cb5-63"><a href="#cb5-63" aria-hidden="true" tabindex="-1"></a>            <span class="at">title =</span> <span class="fu">as.character</span>(year),</span>
<span id="cb5-64"><a href="#cb5-64" aria-hidden="true" tabindex="-1"></a>            <span class="at">subtitle =</span> subtitle</span>
<span id="cb5-65"><a href="#cb5-65" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb5-66"><a href="#cb5-66" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme</span>(</span>
<span id="cb5-67"><a href="#cb5-67" aria-hidden="true" tabindex="-1"></a>            <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">18</span>, <span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">color =</span> <span class="st">"white"</span>),</span>
<span id="cb5-68"><a href="#cb5-68" aria-hidden="true" tabindex="-1"></a>            <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">13</span>, <span class="at">color =</span> <span class="st">"gray80"</span>),</span>
<span id="cb5-69"><a href="#cb5-69" aria-hidden="true" tabindex="-1"></a>            <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"#000004"</span>, <span class="at">color =</span> <span class="st">"gray30"</span>, <span class="at">size =</span> <span class="dv">1</span>),</span>
<span id="cb5-70"><a href="#cb5-70" aria-hidden="true" tabindex="-1"></a>            <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"#000004"</span>),</span>
<span id="cb5-71"><a href="#cb5-71" aria-hidden="true" tabindex="-1"></a>            <span class="at">legend.position =</span> <span class="st">"right"</span>,</span>
<span id="cb5-72"><a href="#cb5-72" aria-hidden="true" tabindex="-1"></a>            <span class="at">legend.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"#000004"</span>),</span>
<span id="cb5-73"><a href="#cb5-73" aria-hidden="true" tabindex="-1"></a>            <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">11</span>, <span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">color =</span> <span class="st">"white"</span>),</span>
<span id="cb5-74"><a href="#cb5-74" aria-hidden="true" tabindex="-1"></a>            <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>, <span class="at">color =</span> <span class="st">"white"</span>),</span>
<span id="cb5-75"><a href="#cb5-75" aria-hidden="true" tabindex="-1"></a>            <span class="at">legend.key =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"#000004"</span>),</span>
<span id="cb5-76"><a href="#cb5-76" aria-hidden="true" tabindex="-1"></a>            <span class="at">legend.key.size =</span> <span class="fu">unit</span>(<span class="fl">0.6</span>, <span class="st">"cm"</span>)</span>
<span id="cb5-77"><a href="#cb5-77" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb5-78"><a href="#cb5-78" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb5-79"><a href="#cb5-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-80"><a href="#cb5-80" aria-hidden="true" tabindex="-1"></a>court_plots <span class="ot">&lt;-</span> <span class="fu">lapply</span>(years_to_plot, create_court_for_year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">2004 - Pre-Analytics</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">2008 - Early Transition</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">2012 - Moreyball Begins</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false">2016 - Warriors Dynasty</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-5" role="tab" aria-controls="tabset-1-5" aria-selected="false">2019 - Pre-COVID</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-6-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-6" role="tab" aria-controls="tabset-1-6" aria-selected="false">2024 - Modern Era</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data_viz_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data_viz_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data_viz_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data_viz_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-1-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-5-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data_viz_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-1-6" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-6-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data_viz_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>teams_2024 <span class="ot">&lt;-</span> shot_data_sample <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(Season <span class="sc">==</span> <span class="dv">2024</span>, <span class="sc">!</span><span class="fu">is.na</span>(TEAM_NAME)) <span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(TEAM_NAME) <span class="sc">%&gt;%</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">Count =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="fu">desc</span>(Count))</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>create_celtics_court <span class="ot">&lt;-</span> <span class="cf">function</span>(year) {</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    celtics_shots <span class="ot">&lt;-</span> shot_data_sample <span class="sc">%&gt;%</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>            Season <span class="sc">==</span> year,</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>            TEAM_NAME <span class="sc">==</span> <span class="st">"Boston Celtics"</span>,</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>            <span class="sc">!</span><span class="fu">is.na</span>(LOC_X), <span class="sc">!</span><span class="fu">is.na</span>(LOC_Y),</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>            LOC_Y <span class="sc">&lt;=</span> <span class="dv">47</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>    subtitle <span class="ot">&lt;-</span> <span class="fu">case_when</span>(</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>        year <span class="sc">==</span> <span class="dv">2004</span> <span class="sc">~</span> <span class="st">"Big 3 Era Begins"</span>,</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>        year <span class="sc">==</span> <span class="dv">2008</span> <span class="sc">~</span> <span class="st">"Championship Season"</span>,</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>        year <span class="sc">==</span> <span class="dv">2012</span> <span class="sc">~</span> <span class="st">"Late Big 3 Era"</span>,</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>        year <span class="sc">==</span> <span class="dv">2016</span> <span class="sc">~</span> <span class="st">"Rebuilding Year"</span>,</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>        year <span class="sc">==</span> <span class="dv">2019</span> <span class="sc">~</span> <span class="st">"Tatum/Brown Era"</span>,</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>        year <span class="sc">==</span> <span class="dv">2025</span> <span class="sc">~</span> <span class="st">"Modern Celtics (2024)"</span>,</span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">""</span></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plot_court</span>(court_themes<span class="sc">$</span>dark, <span class="at">use_short_three =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_point</span>(</span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>            <span class="at">data =</span> celtics_shots,</span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>            <span class="fu">aes</span>(<span class="at">x =</span> LOC_X, <span class="at">y =</span> LOC_Y, <span class="at">color =</span> SHOT_MADE, <span class="at">fill =</span> SHOT_MADE),</span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>            <span class="at">size =</span> <span class="fl">1.5</span>,</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>            <span class="at">shape =</span> <span class="dv">21</span>,</span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>            <span class="at">stroke =</span> <span class="fl">0.5</span>,</span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>            <span class="at">alpha =</span> <span class="fl">0.6</span></span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_color_manual</span>(</span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a>            <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"TRUE"</span> <span class="ot">=</span> <span class="st">"green4"</span>, <span class="st">"FALSE"</span> <span class="ot">=</span> <span class="st">"red3"</span>),</span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a>            <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"TRUE"</span> <span class="ot">=</span> <span class="st">"Made"</span>, <span class="st">"FALSE"</span> <span class="ot">=</span> <span class="st">"Missed"</span>)</span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_fill_manual</span>(</span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a>            <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"TRUE"</span> <span class="ot">=</span> <span class="st">"green2"</span>, <span class="st">"FALSE"</span> <span class="ot">=</span> <span class="st">"red2"</span>),</span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a>            <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"TRUE"</span> <span class="ot">=</span> <span class="st">"Made"</span>, <span class="st">"FALSE"</span> <span class="ot">=</span> <span class="st">"Missed"</span>)</span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a>        <span class="fu">labs</span>(</span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a>            <span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Boston Celtics"</span>),</span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a>            <span class="at">subtitle =</span> subtitle</span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb6-47"><a href="#cb6-47" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme</span>(</span>
<span id="cb6-48"><a href="#cb6-48" aria-hidden="true" tabindex="-1"></a>            <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">18</span>, <span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">color =</span> <span class="st">"white"</span>),</span>
<span id="cb6-49"><a href="#cb6-49" aria-hidden="true" tabindex="-1"></a>            <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">13</span>, <span class="at">color =</span> <span class="st">"gray80"</span>),</span>
<span id="cb6-50"><a href="#cb6-50" aria-hidden="true" tabindex="-1"></a>            <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"#000004"</span>, <span class="at">color =</span> <span class="st">"gray30"</span>, <span class="at">size =</span> <span class="dv">1</span>),</span>
<span id="cb6-51"><a href="#cb6-51" aria-hidden="true" tabindex="-1"></a>            <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"#000004"</span>),</span>
<span id="cb6-52"><a href="#cb6-52" aria-hidden="true" tabindex="-1"></a>            <span class="at">legend.position =</span> <span class="st">"right"</span>,</span>
<span id="cb6-53"><a href="#cb6-53" aria-hidden="true" tabindex="-1"></a>            <span class="at">legend.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"#000004"</span>),</span>
<span id="cb6-54"><a href="#cb6-54" aria-hidden="true" tabindex="-1"></a>            <span class="at">legend.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb6-55"><a href="#cb6-55" aria-hidden="true" tabindex="-1"></a>            <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>, <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb6-56"><a href="#cb6-56" aria-hidden="true" tabindex="-1"></a>            <span class="at">legend.key =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"#000004"</span>),</span>
<span id="cb6-57"><a href="#cb6-57" aria-hidden="true" tabindex="-1"></a>            <span class="at">legend.key.size =</span> <span class="fu">unit</span>(<span class="fl">0.6</span>, <span class="st">"cm"</span>)</span>
<span id="cb6-58"><a href="#cb6-58" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb6-59"><a href="#cb6-59" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-60"><a href="#cb6-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-61"><a href="#cb6-61" aria-hidden="true" tabindex="-1"></a>celtics_years <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2004</span>, <span class="dv">2008</span>, <span class="dv">2012</span>, <span class="dv">2016</span>, <span class="dv">2019</span>, <span class="dv">2025</span>)</span>
<span id="cb6-62"><a href="#cb6-62" aria-hidden="true" tabindex="-1"></a>celtics_plots <span class="ot">&lt;-</span> <span class="fu">lapply</span>(celtics_years, create_celtics_court)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">2004</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">2008</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false">2012</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-4" role="tab" aria-controls="tabset-2-4" aria-selected="false">2016</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-5" role="tab" aria-controls="tabset-2-5" aria-selected="false">2019</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-6-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-6" role="tab" aria-controls="tabset-2-6" aria-selected="false">2024</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data_viz_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data_viz_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data_viz_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-2-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-4-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data_viz_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-2-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-5-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data_viz_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-2-6" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-6-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data_viz_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<p>From the first visualization, we can see that in the pre-analytics era there was a heavy concentration of mid-range shots. By 2012, however, we begin to see the influence of “Moreyball” reshaping the league, as shot distributions tighten around above-the-arc three-pointers. As we move into the modern era, mid-range attempts become increasingly sparse, while above-the-arc threes grow more frequent and form even tighter clusters. The outliers in the visualization represent the greatest shooter of all time, Stephen Curry, whose style helped redefine offensive strategy. This transformation is further illustrated by the Boston Celtics: in 2024, they recorded the highest volume of above-the-arc three-point attempts in team history. Their strategic embrace of analytics and shot optimization directly contributed to their success; culminating in their NBA Finals victory.</p>
<hr>
</section>
<section id="the-covid-19-disruption-attendance-collapse-and-sports-betting-volatility" class="level2">
<h2 class="anchored" data-anchor-id="the-covid-19-disruption-attendance-collapse-and-sports-betting-volatility">5. The COVID-19 Disruption: Attendance Collapse and Sports Betting Volatility</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>attendance_data <span class="ot">&lt;-</span> all_adv_data <span class="sc">%&gt;%</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(Season) <span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">Total_Attendance =</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">Unnamed: 29_level_0_Attend.</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">Avg_Attendance =</span> <span class="fu">mean</span>(<span class="st">`</span><span class="at">Unnamed: 30_level_0_Attend./G</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(Season <span class="sc">&gt;=</span> <span class="dv">2000</span>)</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>dkng <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/financial/DKNG_daily.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>dkng <span class="ot">&lt;-</span> dkng <span class="sc">%&gt;%</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">Date =</span> <span class="fu">as.Date</span>(Date),</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">Year =</span> <span class="fu">year</span>(Date)</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>dkng_yearly <span class="ot">&lt;-</span> dkng <span class="sc">%&gt;%</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(Year) <span class="sc">%&gt;%</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">Avg_Close =</span> <span class="fu">mean</span>(<span class="st">`</span><span class="at">Adj Close</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">Volatility =</span> <span class="fu">sd</span>(Returns, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">*</span> <span class="fu">sqrt</span>(<span class="dv">252</span>),</span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>attendance_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(attendance_data, <span class="fu">aes</span>(<span class="at">x =</span> Season, <span class="at">y =</span> Total_Attendance <span class="sc">/</span> <span class="fl">1e6</span>)) <span class="sc">+</span></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"#006bb6"</span>, <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"#006bb6"</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">annotate</span>(<span class="st">"rect"</span>,</span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">xmin =</span> <span class="dv">2020</span>, <span class="at">xmax =</span> <span class="dv">2021</span>, <span class="at">ymin =</span> <span class="dv">0</span>, <span class="at">ymax =</span> <span class="dv">25</span>,</span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>        <span class="at">alpha =</span> <span class="fl">0.2</span>, <span class="at">fill =</span> <span class="st">"#f58426"</span></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">annotate</span>(<span class="st">"text"</span>,</span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="fl">2020.5</span>, <span class="at">y =</span> <span class="dv">24</span>,</span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">"COVID-19"</span>,</span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>        <span class="at">size =</span> <span class="dv">4</span>, <span class="at">fontface =</span> <span class="st">"bold"</span>, <span class="at">color =</span> <span class="st">"#f58426"</span></span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a>        <span class="at">title =</span> <span class="st">"NBA Attendance Collapse"</span>,</span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="st">"Season"</span>,</span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="st">"Total Attendance (Millions)"</span></span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">12</span>) <span class="sc">+</span></span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb7-44"><a href="#cb7-44" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">14</span>),</span>
<span id="cb7-45"><a href="#cb7-45" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>()</span>
<span id="cb7-46"><a href="#cb7-46" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb7-47"><a href="#cb7-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">25</span>))</span>
<span id="cb7-48"><a href="#cb7-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-49"><a href="#cb7-49" aria-hidden="true" tabindex="-1"></a>dkng_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(dkng, <span class="fu">aes</span>(<span class="at">x =</span> Date, <span class="at">y =</span> <span class="st">`</span><span class="at">Adj Close</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb7-50"><a href="#cb7-50" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"#f58426"</span>, <span class="at">size =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb7-51"><a href="#cb7-51" aria-hidden="true" tabindex="-1"></a>    <span class="fu">annotate</span>(<span class="st">"text"</span>,</span>
<span id="cb7-52"><a href="#cb7-52" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="fu">as.Date</span>(<span class="st">"2020-04-23"</span>), <span class="at">y =</span> <span class="dv">16</span>,</span>
<span id="cb7-53"><a href="#cb7-53" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">"DKNG IPO"</span>,</span>
<span id="cb7-54"><a href="#cb7-54" aria-hidden="true" tabindex="-1"></a>        <span class="at">size =</span> <span class="fl">2.5</span>, <span class="at">fontface =</span> <span class="st">"bold"</span>, <span class="at">color =</span> <span class="st">"#f58426"</span>, <span class="at">vjust =</span> <span class="dv">1</span></span>
<span id="cb7-55"><a href="#cb7-55" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb7-56"><a href="#cb7-56" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb7-57"><a href="#cb7-57" aria-hidden="true" tabindex="-1"></a>        <span class="at">title =</span> <span class="st">"DraftKings (DKNG) Stock Price (Daily)"</span>,</span>
<span id="cb7-58"><a href="#cb7-58" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="st">"Date"</span>,</span>
<span id="cb7-59"><a href="#cb7-59" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="st">"Adj Close Price ($)"</span></span>
<span id="cb7-60"><a href="#cb7-60" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb7-61"><a href="#cb7-61" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">12</span>) <span class="sc">+</span></span>
<span id="cb7-62"><a href="#cb7-62" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb7-63"><a href="#cb7-63" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">14</span>),</span>
<span id="cb7-64"><a href="#cb7-64" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>()</span>
<span id="cb7-65"><a href="#cb7-65" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb7-66"><a href="#cb7-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-67"><a href="#cb7-67" aria-hidden="true" tabindex="-1"></a>combined_plot <span class="ot">&lt;-</span> attendance_plot <span class="sc">|</span> dkng_plot</span>
<span id="cb7-68"><a href="#cb7-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-69"><a href="#cb7-69" aria-hidden="true" tabindex="-1"></a>combined_plot <span class="sc">+</span> <span class="fu">plot_annotation</span>(</span>
<span id="cb7-70"><a href="#cb7-70" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"COVID-19 Impact: Attendance Collapse vs Sports Betting Boom"</span>,</span>
<span id="cb7-71"><a href="#cb7-71" aria-hidden="true" tabindex="-1"></a>    <span class="at">theme =</span> <span class="fu">theme</span>(</span>
<span id="cb7-72"><a href="#cb7-72" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>, <span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb7-73"><a href="#cb7-73" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">color =</span> <span class="st">"gray40"</span>)</span>
<span id="cb7-74"><a href="#cb7-74" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb7-75"><a href="#cb7-75" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data_viz_files/figure-html/covid-disruption-1.png" class="img-fluid figure-img" width="1344"></p>
</figure>
</div>
</div>
</div>
<p>March 2020 presented basketball with an unprecedented event. NBA attendance collapsed by 90% virtually overnight as the season was suspended following Rudy Gobert’s positive COVID-19 test. This was followed by the Orlando bubble season with zero fans, and then the 2020–21 campaign with limited capacity. The league’s normal rhythms and fan energy were completely disrupted. However, while the NBA paused, online sports betting exploded. DraftKings went public in April 2020, and its stock price surged as online betting became legalized across more states. If anything, the pandemic accelerated, rather than slowed, the connection between basketball and analytics, as betting markets quickly became the primary way many fans engaged with the sport.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./data_source.html" class="pagination-link" aria-label="Data Sources">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Data Sources</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./eda.html" class="pagination-link" aria-label="Exploratory Data Analysis">
        <span class="nav-page-text">Exploratory Data Analysis</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>